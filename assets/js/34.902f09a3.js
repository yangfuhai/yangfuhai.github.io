(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{598:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"网关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网关"}},[t._v("#")]),t._v(" 网关")]),t._v(" "),s("h2",{attrs:{id:"目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[t._v("#")]),t._v(" 目录")]),t._v(" "),s("ul",[s("li",[t._v("概述")]),t._v(" "),s("li",[t._v("path路由")]),t._v(" "),s("li",[t._v("host路由")]),t._v(" "),s("li",[t._v("query路由")]),t._v(" "),s("li",[t._v("多个 Gateway 配置")]),t._v(" "),s("li",[t._v("服务发现")]),t._v(" "),s("li",[t._v("注意事项")])]),t._v(" "),s("h2",{attrs:{id:"概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),s("p",[t._v("Jboot 已经内置基础的网关，网关功能目前暂时只能通过在 jboot.properties 文件进行配置。")]),t._v(" "),s("p",[t._v("如下是一个正常的 gateway 配置。")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uriHealthCheckEnable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uriHealthCheckPath")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/your-health-check-path")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.sentinelEnable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.sentinelBlockPage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/block")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.sentinelBlockJsonMap")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("message:xxxx;code:200")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.proxyReadTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("10000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.proxyConnectTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("5000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.proxyContentType")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("text/html;charset=utf-8")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.interceptors")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.xxx.Interceptor1,com.xxx.Interceptor2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.loadBalanceStrategy")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.xxx.loadBalanceStrategy1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathEndswith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.hostEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.hostContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.hostStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.hostEndswith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.queryEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aa:bb,cc:dd")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.queryContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aa,bb")]),t._v("\n")])])]),s("ul",[s("li",[t._v("name 设置路由的名称")]),t._v(" "),s("li",[t._v("uri 设置路由目标网址，可以配置多个 uri，多个 uri 用英文逗号（,） 隔开，当有多个 uri 的时候，系统会 "),s("strong",[t._v("随机")]),t._v(" 使用其中一个去访问")]),t._v(" "),s("li",[t._v("enable 是否启用该路由")]),t._v(" "),s("li",[t._v("uriHealthCheckEnable 是否启用健康检查功能")]),t._v(" "),s("li",[t._v("uriHealthCheckPath URI 健康检查路径，当配置 uriHealthCheckPath 后，健康检查的 url 地址为 uri + uriHealthCheckPath，当健康检查目标网址的 http code 为 200 时，表示健康状态，否则为非健康状态。")]),t._v(" "),s("li",[t._v("sentinelEnable 是否启用 sentinel 限流功能")]),t._v(" "),s("li",[t._v("sentinelBlockPage 若该路由被限流后，网页自动跳转到哪个网址")]),t._v(" "),s("li",[t._v("sentinelBlockJsonMap 若该路由被限流后，自动渲染的 jsonMap，若 sentinelBlockPage 已经配置，则 sentinelBlockJsonMap 配置无效")]),t._v(" "),s("li",[t._v("proxyReadTimeout 发生路由后，默认的请求超时时间，默认为 10 秒")]),t._v(" "),s("li",[t._v("proxyConnectTimeout 发生路由后，默认的连接超时时间，默认为 5 秒")]),t._v(" "),s("li",[t._v("proxyContentType 发生路由后，返回给浏览器的 http-content-type，默认为：text/html;charset=utf-8")]),t._v(" "),s("li",[t._v("interceptors 网关拦截器，一般用于进行鉴权等功能，配置类名，多个拦截器用英文逗号隔开，拦截器必须实现 GatewayInterceptor 接口")]),t._v(" "),s("li",[t._v("loadBalanceStrategy 负载均衡策略，当配置了多个 uri 的时候，可以通过此策略对 uri 进行获取")])]),t._v(" "),s("blockquote",[s("p",[t._v('注意：开启健康检查后，当所有的目标地址都不健康的时候，会渲染 "none health url in gateway" 的错误信息。\n我们可以通过 '),s("code",[t._v("JbootGatewayManager.me().setNoneHealthUrlErrorRender()")]),t._v(" 来自定义渲染功能。")])]),t._v(" "),s("h2",{attrs:{id:"path-路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path-路由"}},[t._v("#")]),t._v(" Path 路由")]),t._v(" "),s("p",[t._v("Path 路由一般是最常用的路由之一，是根据域名之后的路径进行路由的，Jboot 对 Path 路由提供了 4 中方式：")]),t._v(" "),s("p",[s("strong",[t._v("1、pathEquals")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/user")]),t._v("\n")])])]),s("p",[t._v("当用户访问 www.xxx.com/user 的时候，自动路由到 "),s("code",[t._v("http://youdomain:8080/user")]),t._v("，但是当用户请求 "),s("code",[t._v("www.xxx.com/user/other")]),t._v(" 的时候不会进行路由。")]),t._v(" "),s("p",[s("strong",[t._v("2、pathContains")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/user")]),t._v("\n")])])]),s("p",[t._v("当 path 中，只要存在 "),s("code",[t._v("/user")]),t._v(" 就会匹配到该路由，比如 "),s("code",[t._v("www.xxx.com/user/other")]),t._v(" 或者 "),s("code",[t._v("www.xxx.com/other/user/xxx")]),t._v(" 都会匹配到。")]),t._v(" "),s("p",[s("strong",[t._v("3、pathStartsWith")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/user")]),t._v("\n")])])]),s("p",[t._v("当 path 中，只要以 "),s("code",[t._v("/user")]),t._v(" 开头就会匹配到该路由，比如 "),s("code",[t._v("www.xxx.com/user/other")]),t._v(" ，但是 "),s("code",[t._v("www.xxx.com/other/user/xxx")]),t._v(" 不会匹配到，因为它是以 "),s("code",[t._v("/other")]),t._v(" 开头的。")]),t._v(" "),s("p",[s("strong",[t._v("4、pathEndsWith")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathEndsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/user")]),t._v("\n")])])]),s("p",[t._v("当 path 中，只要以 "),s("code",[t._v("/user")]),t._v(" 结束就会匹配到该路由，比如 "),s("code",[t._v("www.xxx.com/other/user")]),t._v(" ，但是 "),s("code",[t._v("www.xxx.com/user/other")]),t._v(" 不会匹配到，因为它是以 "),s("code",[t._v("/other")]),t._v(" 结束的。")]),t._v(" "),s("h2",{attrs:{id:"host-路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#host-路由"}},[t._v("#")]),t._v(" Host 路由")]),t._v(" "),s("p",[t._v("Host 路由是根据域名进行路由的，Jboot 对 Host 路由提供了 4 中方式：")]),t._v(" "),s("p",[s("strong",[t._v("1、hostEquals")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.hostEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.xxx.com")]),t._v("\n")])])]),s("p",[t._v("当用户访问 xxx.xxx.com/user/xx 的时候，自动路由到 "),s("code",[t._v("http://youdomain:8080/user/xx")]),t._v("，但是当用户请求 "),s("code",[t._v("www.xxx.com/user/xxx")]),t._v(" 的时候不会进行路由。")]),t._v(" "),s("p",[s("strong",[t._v("2、hostContains")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.hostContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.xxx.com")]),t._v("\n")])])]),s("p",[t._v("在 Host 中，只要存在 "),s("code",[t._v("xxx.xxx.com")]),t._v(" 就会匹配到该路由，比如 "),s("code",[t._v("aaa.bbb.xxx.xxx.com/user/other")]),t._v(" 会自动路由到 "),s("code",[t._v("http://youdomain:8080/user/other")]),t._v("。")]),t._v(" "),s("p",[s("strong",[t._v("3、hostStartsWith")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.hostStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n")])])]),s("p",[t._v("在 Host 中，只要以 "),s("code",[t._v("xxx")]),t._v(" 开头就会匹配到该路由，比如 "),s("code",[t._v("xxx.xxx.com/user/other")]),t._v(" ，但是 "),s("code",[t._v("www.xxx.com/other/user/xxx")]),t._v(" 不会匹配到，因为它的域名（host）是以 "),s("code",[t._v("xxx")]),t._v(" 开头的。")]),t._v(" "),s("p",[s("strong",[t._v("4、hostEndsWith")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.hostEndsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com")]),t._v("\n")])])]),s("p",[t._v("在 Host 中，只要以 "),s("code",[t._v("com")]),t._v(" 结束就会匹配到该路由，比如 "),s("code",[t._v("www.xxx.com/other/user")]),t._v(" ，但是 "),s("code",[t._v("www.xxx.org/user/other")]),t._v(" 不会匹配到，因为它的域名是以 "),s("code",[t._v("org")]),t._v(" 结束的。")]),t._v(" "),s("h2",{attrs:{id:"query-路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#query-路由"}},[t._v("#")]),t._v(" Query 路由")]),t._v(" "),s("p",[t._v("根据 get 请求的参数进行路由，注意 post 请求参数不会路由。")]),t._v(" "),s("p",[s("strong",[t._v("1、queryEquals")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.queryEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aaa:bbb")]),t._v("\n")])])]),s("p",[t._v("以上配置中，如果用户访问 "),s("code",[t._v("www.xxx.com/controller?aaa=bbb")]),t._v(" 会自动路由到 "),s("code",[t._v("http://youdomain:8080/controller?aaa=bbb")]),t._v(" ，但是如果用户访问 "),s("code",[t._v("www.xxx.com/controller?aaa=ccc")]),t._v("不会路由。")]),t._v(" "),s("p",[s("strong",[t._v("2、queryContains")])]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.queryContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aaa")]),t._v("\n")])])]),s("p",[t._v("以上配置中，如果用户访问 "),s("code",[t._v("www.xxx.com/controller?aaa=bbb")]),t._v(" 会自动路由到 "),s("code",[t._v("http://youdomain:8080/controller?aaa=bbb")]),t._v(" ，或者用户访问  "),s("code",[t._v("www.xxx.com/controller?aaa=ccc")]),t._v(" 也会路由到 "),s("code",[t._v("http://youdomain:8080/controller?aaa=ccc")]),t._v("，因为 query 都包含了 "),s("code",[t._v("aaa=**")]),t._v(" 的请求，但是如果用户访问 "),s("code",[t._v("www.xxx.com/controller?other=aaa")]),t._v("不会路由。")]),t._v(" "),s("h2",{attrs:{id:"多个-gateway-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多个-gateway-配置"}},[t._v("#")]),t._v(" 多个 Gateway 配置")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.sentinelEnable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.sentinelBlockPage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/block")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.proxyReadTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("10000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.proxyConnectTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("5000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.proxyContentType")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("text/html;charset=utf-8")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.interceptors")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.xxx.Interceptor1,com.xxx.Interceptor2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.pathEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.pathContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.pathStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.pathEndswith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.hostEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.hostContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.hostStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.hostEndswith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.queryEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aa:bb,cc:dd")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.aaa.queryContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aa,bb")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.sentinelEnable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.sentinelBlockPage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/block")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.proxyReadTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("10000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.proxyConnectTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("5000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.proxyContentType")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("text/html;charset=utf-8")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.interceptors")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.xxx.Interceptor1,com.xxx.Interceptor2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.pathEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.pathContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.pathStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.pathEndswith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.hostEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.hostContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.hostStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.hostEndswith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.queryEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aa:bb,cc:dd")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.bbb.queryContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aa,bb")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.sentinelEnable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.sentinelBlockPage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/block")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.proxyReadTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("10000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.proxyConnectTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("5000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.proxyContentType")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("text/html;charset=utf-8")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.interceptors")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("com.xxx.Interceptor1,com.xxx.Interceptor2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.pathEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.pathContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.pathStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.pathEndswith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/path")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.hostEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.hostContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.hostStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.hostEndswith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx.com")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.queryEquals")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aa:bb,cc:dd")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.xxx.queryContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("aa,bb")]),t._v("\n")])])]),s("h2",{attrs:{id:"服务发现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务发现"}},[t._v("#")]),t._v(" 服务发现")]),t._v(" "),s("p",[t._v("Jboot Gateway 功能通过 Nacos（可以通过 SPI 进行扩展其他事项方式） 实现了自动发现服务。")]),t._v(" "),s("p",[t._v("相关代码示例可以参考：")]),t._v(" "),s("p",[t._v("https://gitee.com/JbootProjects/jboot/tree/master/simples/gateway")]),t._v(" "),s("p",[t._v("使用方法如下：")]),t._v(" "),s("p",[t._v("1、新增 nacos 依赖（Gateway 端和服务端都需要）")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.alibaba.nacos"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("nacos-client"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("版本号"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("2、启动 Nacos")]),t._v(" "),s("p",[t._v("参考文档：")]),t._v(" "),s("p",[t._v("https://nacos.io/zh-cn/docs/quick-start.html")]),t._v(" "),s("p",[t._v("3、在 Gateway 网关端添加如下配置：")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("myName")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathStartsWith")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#若配置其他，则自行通过 SPI 进行扩展")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("nacos")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#默认值为：DEFAULT_GROUP")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.group")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("=")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.serverAddr")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("127.0.0.1:8848")]),t._v("\n")])])]),s("p",[t._v("更多的 nacos 配置如下：")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.isUseCloudNamespaceParsing")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.isUseEndpointParsingRule")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.endpoint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.endpointPort")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.namespace")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.username")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.password")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.accessKey")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.secretKey")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.ramRoleName")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.contextPath")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.clusterName")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.encode")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.configLongPollTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.configRetryTime")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.maxRetry")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.enableRemoteSyncConfig")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n")])])]),s("p",[t._v("4、在 服务端 添加如下配置")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#若配置其他，则自行通过 SPI 进行扩展")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.type")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("nacos")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#默认值为：DEFAULT_GROUP，这个值必须和 gateway 配置的一致")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.group")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("=")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 注意：这个配置的 myName 必须和 Gateway 里的 'jboot.gateway.name = myName' 中的 myName 一样")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.instance.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("myName")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#不配置默认为 http,可以配置为 https")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.instance.uriScheme")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#不配置默认为当前服务器的IP地址，可以获取错误")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.instance.uriHost")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("= ")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#默认为 undertow.port 的配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.instance.uriPort")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.instance.uriPath")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/user/aaa")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.serverAddr")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("127.0.0.1:8848")]),t._v("\n")])])]),s("p",[t._v("更多的 nacos 配置如下：")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.isUseCloudNamespaceParsing")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.isUseEndpointParsingRule")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.endpoint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.endpointPort")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.namespace")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.username")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.password")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.accessKey")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.secretKey")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.ramRoleName")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.contextPath")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.clusterName")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.encode")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.configLongPollTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.configRetryTime")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.maxRetry")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.discovery.nacos.enableRemoteSyncConfig")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("xxx")]),t._v("\n")])])]),s("h2",{attrs:{id:"注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),s("p",[t._v("当配置中，如果一个内容存在多个值的时候，需要用英文逗号（,）隔开。")]),t._v(" "),s("p",[t._v("比如:")]),t._v(" "),s("div",{staticClass:"language-properties extra-class"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("name")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("http://youdomain:8080")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.enable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("true")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("jboot.gateway.pathContains")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("/user,/article")]),t._v("\n")])])]),s("p",[t._v("当 path 中，只要存在 "),s("code",[t._v("/user")]),t._v("  或者 存在 "),s("code",[t._v("/article")]),t._v(" 都会匹配到该路由，比如 "),s("code",[t._v("www.xxx.com/user/xxx")]),t._v(" 或者 "),s("code",[t._v("www.xxx.com/article/xxx")]),t._v(" 都会匹配到。")]),t._v(" "),s("p",[t._v("其他同理。")])])}),[],!1,null,null,null);a.default=n.exports}}]);