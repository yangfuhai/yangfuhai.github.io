(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{622:function(t,a,s){"use strict";s.r(a);var e=s(6),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"jboot-1-x-升级到-jboot-2-x-教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jboot-1-x-升级到-jboot-2-x-教程"}},[t._v("#")]),t._v(" Jboot 1.x 升级到 Jboot 2.x 教程")]),t._v(" "),s("h2",{attrs:{id:"类名修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#类名修改"}},[t._v("#")]),t._v(" 类名修改")]),t._v(" "),s("ul",[s("li",[t._v("StrUtils -> StrUtil")]),t._v(" "),s("li",[t._v("FileUtils -> FileUtil")]),t._v(" "),s("li",[t._v("ClassKits -> ClassUtil")]),t._v(" "),s("li",[t._v("EncryptCookieUtils -> CookieUtil")]),t._v(" "),s("li",[t._v("RequestUtils -> RequestUtil")]),t._v(" "),s("li",[t._v("ArrayUtils -> ArrayUtil")]),t._v(" "),s("li",[t._v("JbootHttpKit -> HttpUtil")]),t._v(" "),s("li",[t._v("@JBootRPCService -> 修改为 @RPCInject 和 @RPCBean")])]),t._v(" "),s("h2",{attrs:{id:"方法修改"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法修改"}},[t._v("#")]),t._v(" 方法修改")]),t._v(" "),s("p",[s("code",[t._v("Jboot.me().getXXX")]),t._v(" -> "),s("code",[t._v("Jboot.getXXX")])]),t._v(" "),s("p",[s("strong",[t._v("例如：")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JbootCache")]),t._v(" cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Jboot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("me")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("修改为：")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JbootCache")]),t._v(" cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Jboot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("其他同理。")]),t._v(" "),s("h2",{attrs:{id:"代码生成器生成的代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码生成器生成的代码"}},[t._v("#")]),t._v(" 代码生成器生成的代码")]),t._v(" "),s("ul",[s("li",[t._v("删除代码生成器生成的 Service类的 join 系列方法和 keep 方法")]),t._v(" "),s("li",[t._v("删除代码生成器生成的ServiceImpl的@Singleton注解")]),t._v(" "),s("li",[t._v("修改代码生成器生成的 Service类的 Save和SaveOrUpdate方法，修改其返回内容为 ： "),s("code",[t._v("Object")])])]),t._v(" "),s("p",[s("strong",[t._v("例如：")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("public boolean save()\n")])])]),s("p",[t._v("修改为")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("save")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("同时：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("public boolean saveOrUpdate()\n")])])]),s("p",[t._v("修改为")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveOrUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("备注：返回的 "),s("code",[t._v("Object")]),t._v(" 是 Model 的主键值（id）。这么修改的目的是为了在 分布式的情况下。通过 RPC 调用能够直接返回主键。")]),t._v(" "),s("h2",{attrs:{id:"修改-jbootapplistener-的方法名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改-jbootapplistener-的方法名"}},[t._v("#")]),t._v(" 修改 JbootAppListener 的方法名")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("onJfinalConstantConfig")]),t._v(" 修改为： "),s("code",[t._v("onConstantConfig")])]),t._v(" "),s("li",[s("code",[t._v("onJfinalRouteConfig")]),t._v(" 修改为： "),s("code",[t._v("onRouteConfig")])]),t._v(" "),s("li",[s("code",[t._v("onJfinalEngineConfig")]),t._v(" 修改为："),s("code",[t._v("onEngineConfig")])]),t._v(" "),s("li",[s("code",[t._v("onJfinalPluginConfig")]),t._v(" 修改为："),s("code",[t._v("onPluginConfig")])]),t._v(" "),s("li",[s("code",[t._v("onJFinalStartBefore")]),t._v(" 修改为："),s("code",[t._v("onStartBefore")])]),t._v(" "),s("li",[s("code",[t._v("onJFinalStart")]),t._v(" 修改为："),s("code",[t._v("onStart")])]),t._v(" "),s("li",[s("code",[t._v("onJFinalStop")]),t._v(" 修改为："),s("code",[t._v("onStop")])])]),t._v(" "),s("h2",{attrs:{id:"其他的错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他的错误"}},[t._v("#")]),t._v(" 其他的错误")]),t._v(" "),s("p",[t._v("其他错误，都是 "),s("strong",[t._v("修改了包名")]),t._v("，解决方案是：删除错误的 import ，然后重新导入即可。")]),t._v(" "),s("p",[s("strong",[t._v("例如：")])]),t._v(" "),s("p",[t._v("注解 "),s("code",[t._v("javax.inject.Inject")]),t._v(" 修改为了 "),s("code",[t._v("com.jfinal.aop.Inject")]),t._v(" 等等。")])])}),[],!1,null,null,null);a.default=n.exports}}]);